---
import Layout from '../layouts/Layout.astro';
import ArticlePage from '../components/ArticlePage.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');

const sorted = posts.sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);

const [featured, ...rest] = sorted;
---

<Layout>
  <ArticlePage featured={featured} posts={rest} />
</Layout>
